# Техническое Задание (Technical Specification)

## 1. Паспорт проекта
*   **Название:** LUMEN | Likedown Gallery System
*   **Концепция:** SaaS-платформа для профессиональных фотографов, позволяющая автоматизировать процесс отбора фотографий клиентами. Система решает проблему хаотичного сбора обратной связи через мессенджеры, предоставляя структурированный интерфейс с контролем лимитов и дедлайнов.

## 2. Ролевая модель
1.  **Фотограф (Owner):** Обладает полным контролем над своими галереями. Может загружать контент, устанавливать лимиты выбора (например, "выбрать 20 фото из 100"), задавать сроки доступа и просматривать аналитику по действиям клиентов.
2.  **Клиент (User):** Конечный потребитель контента. Имеет доступ к галереям по приглашению. Может просматривать фото, отмечать выбранные снимки (лайки) и оставлять комментарии к ретуши. Действия ограничены установленными фотографом лимитами.
3.  **Администратор (Superuser):** Технический персонал, осуществляющий глобальный контроль над пользователями и данными через Django Admin.

## 3. Архитектура данных
Проект реализован на базе Django ORM со следующими ключевыми моделями:
*   **CustomUser:** Расширенная модель пользователя. Поле `role` (PHOTOGRAPHER/CLIENT) определяет доступный интерфейс и права.
*   **Gallery:** Основная сущность проекта. Хранит метаданные (название, сроки) и настройки ограничений (`max_selection_count`, `total_selection_limit`).
*   **Photo:** Модель для хранения изображений. Связана с галереей через ForeignKey. Поддерживает порядковые номера для сортировки.
*   **ClientChoice:** Связующая таблица для реализации логики отбора. Хранит информацию о лайках, просмотрах и комментариях конкретного клиента к конкретному фото.
*   **GalleryAccess:** Система прав, регулирующая доступ пользователей к приватным галереям.

## 4. Пользовательские сценарии
1.  **Создание и наполнение:** Фотограф создает новую галерею "Wedding 2026", устанавливает лимит в 50 фото и загружает снимки через Mass Upload интерфейс.
2.  **Управление доступом:** Фотограф генерирует уникальную UUID-ссылку (инвайт) для клиента или добавляет его в список доступа по логину.
3.  **Интерактивный отбор:** Клиент открывает галерею и выбирает понравившиеся фото. Система асинхронно (Fetch API) проверяет лимиты. При достижении предела в 50 фото, попытка поставить новый лайк блокируется с уведомлением.
4.  **Мониторинг:** Фотограф открывает аналитику галереи и видит графики активности клиентов (Chart.js) и список кадров, готовых к обработке.

## 5. Техническая сложность и Стек
*   **Стек:** Python 3.13, Django 5.0, Tailwind CSS, JavaScript (Vanilla).
*   **Сложность:** Использование **Django ORM Aggregation** (`annotate`, `Count`, `Q objects`) позволяет производить сложные расчеты KPI и статистики на лету без использования внешних библиотек обработки данных.
*   **UX/UI:** Реализован бесшовный интерфейс отбора фотографий с использованием Fetch API и динамической визуализации данных через **Chart.js**.
